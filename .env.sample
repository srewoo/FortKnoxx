# ============================================
# FortKnoxx Environment Configuration
# ============================================
# Copy this file to .env and configure your settings
# Command: cp .env.sample .env

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB connection URL
MONGO_URL=mongodb://localhost:27017

# Database name
DB_NAME=fortknox_db

# CORS origins (comma-separated, or * for all)
CORS_ORIGINS=*

# ============================================
# PHASE 1: AUTHENTICATION & SECURITY
# ============================================
# IMPORTANT: Generate secure keys for production!
# These are REQUIRED for the application to function properly

# JWT Secret Key (REQUIRED)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-jwt-secret-key-CHANGE-THIS-IN-PRODUCTION-use-openssl-rand-hex-32

# Master Encryption Key (REQUIRED)
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_MASTER_KEY=your-encryption-key-CHANGE-THIS-use-fernet-generate-key

# Optional: Redis for production job queue (falls back to in-memory if not set)
# Install: brew services start redis (macOS) or sudo systemctl start redis (Linux)
REDIS_URL=redis://localhost:6379

# ============================================
# LLM API KEYS (OPTIONAL - BYOK Model)
# ============================================
# These keys enable AI-powered vulnerability fix recommendations
# and LLM security testing features
# All keys are OPTIONAL - features work without them
#
# NOTE: You can also configure these keys through the Settings UI
# at http://localhost:3000/settings (recommended method)
# Keys configured in the UI are encrypted and stored in MongoDB

# OpenAI API Key
# Get your key from: https://platform.openai.com/api-keys
# Free tier: $5 credit for new accounts
# OPENAI_API_KEY=sk-...

# Anthropic API Key (Claude)
# Get your key from: https://console.anthropic.com/
# Free tier: Rate-limited access
# ANTHROPIC_API_KEY=sk-ant-...

# Google Gemini API Key
# Get your key from: https://makersuite.google.com/app/apikey
# Free tier: 60 requests per minute
# GEMINI_API_KEY=AIza...

# ============================================
# SCANNER CONFIGURATION (OPTIONAL)
# ============================================
# Most scanners work out of the box without configuration
# Add configs here only if needed for specific features

# GitHub Token (Optional - improves rate limits)
# Generate at: https://github.com/settings/tokens
# Scopes needed: public_repo (for public repos) or repo (for private repos)
# GITHUB_TOKEN=ghp_...

# Snyk Token (Optional - for Snyk scanner authentication)
# Get your token from: https://snyk.io/account
# Free tier: 200 tests per month
# SNYK_TOKEN=...

# ============================================
# ADVANCED CONFIGURATION (OPTIONAL)
# ============================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# LOG_LEVEL=INFO

# Maximum concurrent scans
# MAX_CONCURRENT_SCANS=3

# Scan timeout in seconds
# SCAN_TIMEOUT=3600

# Job queue worker count (if using Redis)
# JOB_WORKERS=4

# ============================================
# QUICKSTART GUIDE
# ============================================
#
# 1. COPY THIS FILE:
#    cp .env.sample .env
#
# 2. GENERATE SECURITY KEYS:
#    # JWT Secret
#    openssl rand -hex 32
#
#    # Encryption Key
#    python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#
# 3. UPDATE .env FILE:
#    - Replace JWT_SECRET_KEY with generated value
#    - Replace ENCRYPTION_MASTER_KEY with generated value
#
# 4. (OPTIONAL) ADD LLM API KEYS:
#    - Either uncomment and add keys here
#    - OR configure later through the Settings UI (recommended)
#
# 5. START SERVICES:
#    # Start MongoDB
#    brew services start mongodb-community  # macOS
#    # OR
#    sudo systemctl start mongod  # Linux
#
#    # (Optional) Start Redis
#    brew services start redis  # macOS
#    # OR
#    sudo systemctl start redis  # Linux
#
# 6. START APPLICATION:
#    # Backend
#    cd backend
#    source venv/bin/activate
#    uvicorn server:app --reload --port 8000
#
#    # Frontend (in new terminal)
#    cd frontend
#    yarn start
#
# 7. OPEN APPLICATION:
#    http://localhost:3000
#
# ============================================
# SECURITY NOTES
# ============================================
#
# - NEVER commit .env file to version control
# - .env is in .gitignore by default
# - Rotate keys regularly in production
# - Use environment-specific keys (dev/staging/prod)
# - Store production keys in secure vault (AWS Secrets Manager, etc.)
# - LLM API keys can be managed through Settings UI for better security
# - All sensitive data is encrypted with ENCRYPTION_MASTER_KEY
#

